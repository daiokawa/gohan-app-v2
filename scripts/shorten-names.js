const fs = require('fs');
const path = require('path');

// çŸ­ç¸®ã™ã‚‹åå‰ã®ãƒãƒƒãƒ”ãƒ³ã‚°
const NAME_MAPPINGS = {
  'BARRACK HOUSEâ„¢/ãƒãƒ©ãƒƒã‚¯ãƒã‚¦ã‚¹': 'ãƒãƒ©ãƒƒã‚¯ãƒã‚¦ã‚¹',
  'å»»è»¢å¯¿å¸å¹³å››éƒ ã‚¹ãƒ”ãƒŠã‚¬ãƒ¼ãƒ‡ãƒ³å¤§æ‰‹ç”ºåº—': 'å¹³å››éƒ å¤§æ‰‹ç”ºåº—',
  'ä¸­è¯æ–™ç† æ‰‹ä½œé¤ƒå­(ãƒ‹ãƒ¼ãƒã‚ª) ç”°ç”º2å·åº—': 'ãƒ‹ãƒ¼ãƒã‚ª ç”°ç”º2å·åº—',
  "Dakken's cucina ãƒ€ãƒƒã‚±ãƒ³ã‚º ã‚¯ãƒƒãƒãƒ¼ãƒŠ": 'ãƒ€ãƒƒã‚±ãƒ³ã‚º',
  'ãŠæ¯ã•ã‚“ã®æ‰‹ä½œã‚Šã‚«ãƒ¬ãƒ¼ ã‚­ãƒƒãƒãƒ³â˜…ãƒ©ã‚¤ãƒ•': 'ã‚­ãƒƒãƒãƒ³â˜…ãƒ©ã‚¤ãƒ•',
  'NEWãƒ©ãƒ¼ãƒ¡ãƒ³ã‚·ãƒ§ãƒƒãƒ— ç¦å²¡1å·å°å€‰åº—': 'NEWãƒ©ãƒ¼ãƒ¡ãƒ³ã‚·ãƒ§ãƒƒãƒ—',
  'æ¿ƒåšã¨ã‚“ã“ã¤å°‚é–€åº— æ —ã¡ã‚ƒã‚“ãƒ©ãƒ¼ãƒ¡ãƒ³ ç´ºå±‹ç”ºåº—': 'æ —ã¡ã‚ƒã‚“ãƒ©ãƒ¼ãƒ¡ãƒ³ ç´ºå±‹ç”º',
  'ã‚«ãƒ¬ãƒ¼ãƒã‚¦ã‚¹ CoCoå£±ç•ªå±‹ å°å€‰äº¬ç”ºåº—': 'CoCoå£±ç•ªå±‹ äº¬ç”ºåº—',
  'ã‚µãƒ³ãƒ‰ã‚¤ãƒƒãƒãƒ•ã‚¡ã‚¯ãƒˆãƒªãƒ¼Â·ã‚ªãƒ¼ã‚·ãƒ¼ã‚¨ãƒ ': 'ã‚µãƒ³ãƒ‰ã‚¤ãƒƒãƒãƒ•ã‚¡ã‚¯ãƒˆãƒªãƒ¼',
  'ã¨ã‚“ã“ã¤ãƒ©ãƒ¼ãƒ¡ãƒ³å°‚é–€åº— æ —ã¡ã‚ƒã‚“ãƒ©ãƒ¼ãƒ¡ãƒ³ å…«å¹¡æœ¬åº—': 'æ —ã¡ã‚ƒã‚“ãƒ©ãƒ¼ãƒ¡ãƒ³ å…«å¹¡',
  'ãƒ™ãƒ¼ã‚«ãƒªãƒ¼ãƒ–ãƒªãƒƒã‚¯ãƒã‚¤ãƒ–ãƒªãƒƒã‚¯': 'ãƒ–ãƒªãƒƒã‚¯ãƒã‚¤ãƒ–ãƒªãƒƒã‚¯',
  'ã‚µã‚¤ã‚¼ãƒªãƒ¤ ãƒªãƒãƒ¼ã‚¦ã‚©ãƒ¼ã‚¯åŒ—ä¹å·åº—': 'ã‚µã‚¤ã‚¼ãƒªãƒ¤ RWåº—',
};

function shortenNames() {
  const dataFile = path.join(__dirname, '..', 'data', 'restaurants.json');
  
  // ç¾åœ¨ã®ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã¿
  const restaurants = JSON.parse(fs.readFileSync(dataFile, 'utf-8'));
  
  console.log(`ğŸ“ ${restaurants.length}ä»¶ã®ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³åã‚’ç¢ºèª...`);
  
  let updated = 0;
  
  restaurants.forEach(restaurant => {
    // çŸ­ç¸®åãŒã‚ã‚‹å ´åˆã¯æ›´æ–°
    if (NAME_MAPPINGS[restaurant.name]) {
      const oldName = restaurant.name;
      restaurant.name = NAME_MAPPINGS[restaurant.name];
      console.log(`âœ… ${oldName} â†’ ${restaurant.name}`);
      updated++;
    }
  });
  
  // ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜
  fs.writeFileSync(dataFile, JSON.stringify(restaurants, null, 2));
  
  console.log('\nğŸ“Š çŸ­ç¸®å®Œäº†:');
  console.log(`  âœ… æ›´æ–°: ${updated}ä»¶`);
  console.log(`  ğŸ“ åˆè¨ˆ: ${restaurants.length}ä»¶`);
}

// å®Ÿè¡Œ
shortenNames();